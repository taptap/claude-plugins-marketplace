# Git Commands Plugin

Git å·¥ä½œæµå‘½ä»¤æ’ä»¶ï¼Œæä¾›ä¸‰ç§æäº¤æ–¹å¼ï¼šcommitã€commit+pushã€commit+push+MRã€‚

## åŠŸèƒ½æ¦‚è§ˆ

| ç»„ä»¶ | è§¦å‘æ–¹å¼ | åŠŸèƒ½èŒƒå›´ | æ™ºèƒ½å‰ç¼€ |
|------|----------|---------|----------|
| `/git:commit` | æ˜¾å¼è°ƒç”¨ | ä»… commit | âŒ å›ºå®š feat- |
| `/git:commit-push` | æ˜¾å¼è°ƒç”¨ | Commit + Push | âŒ å›ºå®š feat- |
| `/git:commit-push-pr` | æ˜¾å¼è°ƒç”¨ | Commit + Push + MR | âœ… è‡ªåŠ¨åˆ¤æ–­ |
| `git-flow` Skill | è‡ªç„¶è¯­è¨€ | æ ¹æ®ç”¨æˆ·æ„å›¾å†³å®š | âœ… åˆ†æ diff |

**è¯´æ˜**ï¼š
- **æ˜¾å¼è°ƒç”¨**: ç”¨æˆ·ç›´æ¥è¾“å…¥æ–œæ å‘½ä»¤ï¼Œå¦‚ `/git:commit`
- **è‡ªç„¶è¯­è¨€**: ç”¨æˆ·ç”¨è‡ªç„¶è¯­è¨€æè¿°ï¼Œå¦‚"å¸®æˆ‘æäº¤ä»£ç "
- **æ™ºèƒ½å‰ç¼€**: æ ¹æ® git diff åˆ†æè‡ªåŠ¨åˆ¤æ–­åˆ†æ”¯ç±»å‹ï¼ˆfeat-, fix-, docs-, ç­‰ï¼‰

## æ¶æ„è¯´æ˜

### æ–‡ä»¶ç»“æ„

æœ¬æ’ä»¶é‡‡ç”¨ä¸‰å±‚æ¶æ„è®¾è®¡ï¼š

ğŸ“‹ **è§„èŒƒå±‚** - [reference.md](skills/git-flow/reference.md)
- åˆ†æ”¯å‘½åè§„åˆ™ï¼ˆfeat-, fix-, refactor-, ç­‰ï¼‰
- Commit æ ¼å¼è§„èŒƒ
- Type ç±»å‹å®šä¹‰
- Description ç”ŸæˆåŸåˆ™

âš™ï¸ **é€»è¾‘å±‚** - [command-procedures.md](skills/git-flow/command-procedures.md)
- ä»»åŠ¡ ID æå–ï¼ˆä¸‰çº§ä¼˜å…ˆçº§ç­–ç•¥ï¼‰
- åˆ†æ”¯æ£€æŸ¥é€»è¾‘
- Commit ä¿¡æ¯ç”Ÿæˆ
- æ™ºèƒ½åˆ†æ”¯å‰ç¼€åˆ¤æ–­
- æ–‡ä»¶æ’é™¤è§„åˆ™

ğŸ¯ **è§¦å‘å±‚**
- **Commands**: `/git:commit`, `/git:commit-push`, `/git:commit-push-pr`
- **Skill**: `git-flow` (è‡ªç„¶è¯­è¨€è§¦å‘)

### è°ƒç”¨æµç¨‹å›¾

#### æ˜¾å¼å‘½ä»¤è°ƒç”¨
```
ç”¨æˆ·è¾“å…¥: /git:commit (æˆ– -push, -push-pr)
    â†“
Commands (commit.md / commit-push.md / commit-push-pr.md)
    â†“
å¼•ç”¨ command-procedures.md ä¸­çš„å…±äº«é€»è¾‘:
    â”œâ”€â†’ åˆ†æ”¯æ£€æŸ¥ (#åˆ†æ”¯æ£€æŸ¥é€»è¾‘)
    â”œâ”€â†’ ä»»åŠ¡ ID æå– (#ä»»åŠ¡IDæå–)
    â””â”€â†’ Commit ç”Ÿæˆ (#commitä¿¡æ¯ç”Ÿæˆè§„èŒƒ)
    â†“
å‚è€ƒ reference.md éªŒè¯è§„èŒƒ
    â†“
æ‰§è¡Œ Git æ“ä½œ
```

#### è‡ªç„¶è¯­è¨€è§¦å‘
```
ç”¨æˆ·è¾“å…¥: "å¸®æˆ‘æäº¤" / "commit ä¸€ä¸‹" / "æäº¤ä»£ç "
    â†“
Claude Code è¯†åˆ«å…³é”®è¯
    â†“
è§¦å‘ git-flow Skill (SKILL.md)
    â†“
å¼•ç”¨ç›¸åŒçš„å…±äº«é€»è¾‘:
    â”œâ”€â†’ command-procedures.md (#ä»»åŠ¡IDæå–)
    â”œâ”€â†’ command-procedures.md (#commitä¿¡æ¯ç”Ÿæˆè§„èŒƒ)
    â””â”€â†’ reference.md (#æäº¤ä¿¡æ¯è§„èŒƒ)
    â†“
æ‰§è¡Œ Git æ“ä½œ
```

#### ç»Ÿä¸€é€»è¾‘è°ƒç”¨å…³ç³»
```
              ç”¨æˆ·äº¤äº’
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 â”‚
   æ˜¾å¼å‘½ä»¤          è‡ªç„¶è¯­è¨€
  /git:xxx         "å¸®æˆ‘æäº¤"
        â”‚                 â”‚
        â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚        â”‚ Skillè§¦å‘
        â”‚        â”‚ (SKILL.md)
        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
             â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
      â”‚ Commands å±‚  â”‚
      â”‚ æ‰§è¡Œæµç¨‹    â”‚
      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
             â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  å…±äº«é€»è¾‘å±‚      â”‚
      â”‚ command-        â”‚
      â”‚ procedures.md   â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚ â€¢ åˆ†æ”¯æ£€æŸ¥      â”‚
      â”‚ â€¢ ä»»åŠ¡IDæå–    â”‚
      â”‚ â€¢ Commitç”Ÿæˆ    â”‚
      â”‚ â€¢ æ™ºèƒ½å‰ç¼€åˆ¤æ–­  â”‚
      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
      â”‚  è§„èŒƒå±‚      â”‚
      â”‚ reference.md â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚ â€¢ åˆ†æ”¯å‘½å   â”‚
      â”‚ â€¢ Typeå®šä¹‰   â”‚
      â”‚ â€¢ æ ¼å¼éªŒè¯   â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æäº¤è§„èŒƒ

è¯¦ç»†è§„èŒƒå‚è§ï¼š[skills/git-flow/reference.md](skills/git-flow/reference.md)

**å¿«é€Ÿå‚è€ƒï¼š**
- æ ¼å¼ï¼š`type(scope): description #TASK-ID`
- Typeï¼šfeat, fix, docs, style, refactor, test, chore
- ä»»åŠ¡ IDï¼šä»åˆ†æ”¯åè‡ªåŠ¨æå–ï¼ˆTAP-xxxã€TP-xxxã€TDS-xxxï¼‰

## å‘½ä»¤å¯¹æ¯”

### ä¸‰ä¸ªå‘½ä»¤çš„åŒºåˆ«

| ç‰¹æ€§ | commit | commit-push | commit-push-pr |
|------|--------|-------------|----------------|
| Commit | âœ… | âœ… | âœ… |
| Push | âŒ | âœ… | âœ… |
| åˆ›å»º MR | âŒ | âŒ | âœ… |
| æ™ºèƒ½å‰ç¼€ | âŒ | âŒ | âœ… |
| Master æ£€æŸ¥ | âœ… | âœ… | âœ… (å«æ™ºèƒ½å‰ç¼€) |

**æ¨èä½¿ç”¨åœºæ™¯**ï¼š
- **commit**: æœ¬åœ°å¼€å‘ï¼Œè¿˜éœ€å¤šæ¬¡æäº¤
- **commit-push**: åŠŸèƒ½å®Œæˆï¼Œéœ€è¦å¤‡ä»½åˆ°è¿œç¨‹
- **commit-push-pr**: åŠŸèƒ½å®Œæˆï¼Œç«‹å³åˆ›å»ºåˆå¹¶è¯·æ±‚

### Skill vs Commands

| æ–¹é¢ | Skill (è‡ªç„¶è¯­è¨€) | Commands (æ˜¾å¼è°ƒç”¨) |
|------|-----------------|-------------------|
| è§¦å‘æ–¹å¼ | "å¸®æˆ‘æäº¤"ã€"commit ä¸€ä¸‹" | `/git:commit` |
| çµæ´»æ€§ | é«˜ï¼ˆç†è§£æ„å›¾ï¼‰ | ä½ï¼ˆå›ºå®šæµç¨‹ï¼‰ |
| é€‚ç”¨åœºæ™¯ | å¿«é€Ÿæ“ä½œ | ç²¾ç¡®æ§åˆ¶ |
| å…±äº«é€»è¾‘ | âœ… ç›¸åŒ | âœ… ç›¸åŒ |

## master åˆ†æ”¯ä¿æŠ¤

åœ¨ master åˆ†æ”¯æ‰§è¡Œæäº¤å‘½ä»¤æ—¶ï¼š
- âœ… æä¾›ä»»åŠ¡ ID/é“¾æ¥ â†’ è‡ªåŠ¨åˆ›å»ºå·¥ä½œåˆ†æ”¯
- âŒ æœªæä¾› â†’ ä¸­æ–­å¹¶æç¤º

## ä½¿ç”¨ç¤ºä¾‹

```bash
# æ˜¾å¼è°ƒç”¨å‘½ä»¤
/git:commit                # ä»…æäº¤
/git:commit-push           # æäº¤å¹¶æ¨é€
/git:commit-push-pr        # æäº¤ã€æ¨é€å¹¶åˆ›å»º MR

# è‡ªç„¶è¯­è¨€ï¼ˆè§¦å‘ git-flow Skillï¼‰
ã€Œå¸®æˆ‘æäº¤ä¸€ä¸‹ã€
ã€Œcommit ä»£ç ã€
ã€Œæäº¤å¹¶æ¨é€ã€
ã€Œæäº¤å¹¶åˆ›å»º MRã€
```

## ä¾èµ–

### ç³»ç»Ÿè¦æ±‚
- Git å‘½ä»¤è¡Œå·¥å…·ï¼ˆâ‰¥ 2.0ï¼‰
- GitLab ä»“åº“é…ç½®ï¼ˆremote originï¼‰

### å†…éƒ¨ä¾èµ–
- **è§„èŒƒæ–‡æ¡£**: [reference.md](skills/git-flow/reference.md)
- **å…±äº«é€»è¾‘**: [command-procedures.md](skills/git-flow/command-procedures.md)
- **è§¦å‘é…ç½®**: [SKILL.md](skills/git-flow/SKILL.md)

### å¤–éƒ¨ä¾èµ–ï¼ˆå¯é€‰ï¼‰
- é£ä¹¦ä»»åŠ¡ç®¡ç†ï¼ˆä»»åŠ¡é“¾æ¥æå–ï¼‰
- Jira é›†æˆï¼ˆTAP-xxx ä»»åŠ¡ IDï¼‰

## å·¥ä½œåŸç†

### ä»»åŠ¡ ID æå–ç­–ç•¥ï¼ˆä¸‰çº§ä¼˜å…ˆçº§ï¼‰

1. **ä¼˜å…ˆçº§ 1**: ä»åˆ†æ”¯åè‡ªåŠ¨æå–
   - æ­£åˆ™åŒ¹é…: `(TAP|TP|TDS)-[0-9]+`
   - ç¤ºä¾‹: `feat-TAP-85404-user-profile` â†’ `TAP-85404`

2. **ä¼˜å…ˆçº§ 2**: ä»ç”¨æˆ·è¾“å…¥æå–
   - é£ä¹¦é“¾æ¥: `https://*.feishu.cn/**`
   - Jira é“¾æ¥: `https://xindong.atlassian.net/browse/TAP-xxxxx`
   - ç›´æ¥ ID: `TAP-xxxxx`

3. **ä¼˜å…ˆçº§ 3**: è¯¢é—®ç”¨æˆ·
   - ä½¿ç”¨ AskUserQuestion å·¥å…·
   - æä¾› "æä¾›ä»»åŠ¡ ID" æˆ– "ä½¿ç”¨ #no-ticket" é€‰é¡¹

### æ™ºèƒ½åˆ†æ”¯å‰ç¼€åˆ¤æ–­ï¼ˆä»… commit-push-prï¼‰

åˆ†æ `git diff --stat` å’Œ `git diff` å†…å®¹ï¼ŒæŒ‰ä¼˜å…ˆçº§åˆ¤æ–­ï¼š

1. **docs-**: ä»…ä¿®æ”¹æ–‡æ¡£æ–‡ä»¶ï¼ˆ*.md, *.txtï¼‰
2. **test-**: ä»…ä¿®æ”¹æµ‹è¯•æ–‡ä»¶ï¼ˆ*_test.go, *.test.jsï¼‰
3. **fix-**: åŒ…å«å…³é”®è¯ "fix"ã€"ä¿®å¤"ã€"bug"
4. **feat-**: æ–°å¢æ–‡ä»¶æˆ–åŒ…å« "feat"ã€"æ–°å¢"
5. **refactor-**: åŒ…å« "refactor"ã€"é‡æ„"
6. **perf-**: åŒ…å« "perf"ã€"ä¼˜åŒ–"
7. **chore-**: é…ç½®æ–‡ä»¶ã€ä¾èµ–æ›´æ–°ï¼ˆé»˜è®¤ï¼‰

### Master åˆ†æ”¯ä¿æŠ¤æœºåˆ¶

æ‰€æœ‰å‘½ä»¤æ£€æµ‹åˆ° master/main åˆ†æ”¯æ—¶ï¼š
1. æ£€æŸ¥ç”¨æˆ·è¾“å…¥ä¸­æ˜¯å¦æœ‰ä»»åŠ¡ ID/é“¾æ¥
2. å¦‚æœæœ‰ï¼šè¯¢é—®åˆ†æ”¯æè¿°ï¼Œåˆ›å»ºå·¥ä½œåˆ†æ”¯
3. å¦‚æœæ²¡æœ‰ï¼šä¸­æ–­å¹¶æç¤ºç”¨æˆ·æä¾›ä»»åŠ¡é“¾æ¥/ID

é˜²æ­¢ç›´æ¥åœ¨ master åˆ†æ”¯æäº¤ã€‚

### Commit ä¿¡æ¯æ ¼å¼

```
type(scope): description #TASK-ID

## æ”¹åŠ¨å†…å®¹
- åˆ—å‡ºä¸»è¦æ”¹åŠ¨ç‚¹

## å½±å“é¢
- è¯´æ˜å½±å“çš„æ¨¡å—ã€å‘åå…¼å®¹æ€§ã€é£é™©è¯„ä¼°

ğŸ¤– Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude <noreply@anthropic.com>
```

**å…³é”®è§„åˆ™**ï¼š
- æ ‡é¢˜ä¸æ­£æ–‡ç©ºä¸€è¡Œ
- æ­£æ–‡ä¸ç­¾åç©ºä¸€è¡Œ
- ğŸ¤– è¡Œå’Œ Co-Authored-By è¡Œè¿ç»­ï¼ˆä¸ç©ºè¡Œï¼‰
